<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Dashboard ¬∑ MIS Ultimate Scavenger Hunt</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <div class="sidebar__brand">
          <div class="logo">MIS</div>
          <div>
            <p class="brand-title">Admin</p>
            <p class="brand-meta">Dr. Reed ¬∑ Demo</p>
          </div>
        </div>
        <nav class="sidebar__nav" aria-label="Admin navigation">
          <p class="nav-label">Overview</p>
          <a class="nav-link active" href="admin-dashboard.html">Dashboard</a>
          <a class="nav-link" href="admin-hunts.html">Manage Hunts</a>
          <a class="nav-link" href="admin-tasks.html">Task Management</a>
          <a class="nav-link" href="admin-students.html">Students</a>
          <a class="nav-link" href="admin-analytics.html">Analytics</a>
          <p class="nav-label">Communication</p>
          <a class="nav-link" href="admin-messages.html">Messages</a>
          <a class="nav-link" href="admin-announcements.html">Announcements</a>
          <p class="nav-label">System</p>
          <a class="nav-link" href="admin-settings.html">Settings</a>
          <a class="nav-link" href="leaderboards.html">Leaderboards</a>
          <a class="nav-link" href="index.html">Landing Page</a>
        </nav>
      </aside>

      <div class="app-content">
        <header class="site-header">
          <div>
            <p class="eyebrow">Admin ¬∑ Demo</p>
            <h1>MIS Ultimate Scavenger Hunt ¬∑ Admin View</h1>
          </div>
          <div class="header-actions">
            <a class="btn tertiary" href="leaderboards.html">Leaderboards</a>
            <a class="btn ghost" href="auth.html?logout=true">Sign out</a>
          </div>
        </header>

        <main>
          <!-- Dashboard -->
          <section class="section" id="dashboard">
            <header class="section-headline">
              <div>
                <p class="eyebrow">Overview</p>
                <h2 class="section-title">Program health</h2>
              </div>
            </header>
            <div class="cards-grid four stat-cards">
              <article class="card">
                <p class="muted">Total Hunts</p>
                <h3>24</h3>
              </article>
              <article class="card">
                <p class="muted">Active Users</p>
                <h3>342</h3>
              </article>
              <article class="card">
                <p class="muted">Satisfaction</p>
                <h3>4.7 / 5</h3>
              </article>
              <article class="card">
                <p class="muted">System Health</p>
                <h3>98%</h3>
              </article>
            </div>
            <div class="dashboard-grid">
              <article class="card">
                <h3>Completion Trend</h3>
                <p class="muted">Last 4 weeks</p>
                <div class="sparkline">
                  <span class="h-65"></span>
                  <span class="h-80"></span>
                  <span class="h-72"></span>
                  <span class="h-88"></span>
                </div>
              </article>
              <article class="card">
                <h3>Top Performers</h3>
                <ul class="pill-list">
                  <li>
                    <p>Avery ¬∑ 3,210 pts</p>
                    <span>ü•á</span>
                  </li>
                  <li>
                    <p>Jordan ¬∑ 3,045 pts</p>
                    <span>ü•à</span>
                  </li>
                  <li>
                    <p>Sam ¬∑ 2,980 pts</p>
                    <span>ü•â</span>
                  </li>
                </ul>
              </article>
              <article class="card table-card">
                <h3>Recent Submissions</h3>
                <table>
                  <thead>
                    <tr>
                      <th>Student</th>
                      <th>Task</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Jamie</td>
                      <td>Data Insights</td>
                      <td><span class="badge success">Pending</span></td>
                    </tr>
                    <tr>
                      <td>Sam</td>
                      <td>Cyber Lab</td>
                      <td><span class="badge warn">Revision</span></td>
                    </tr>
                    <tr>
                      <td>Taylor</td>
                      <td>Community Report</td>
                      <td><span class="badge neutral">Reviewed</span></td>
                    </tr>
                  </tbody>
                </table>
              </article>
              <article class="card">
                <h3>Inbox Preview</h3>
                <ul class="message-list">
                  <li>
                    <p>Team Crimson</p>
                    <p class="muted">Need rubric clarification</p>
                  </li>
                  <li>
                    <p>Instructor Evans</p>
                    <p class="muted">‚ÄúShare analytics export.‚Äù</p>
                  </li>
                  <li>
                    <p>Sam</p>
                    <p class="muted">‚ÄúSubmitted revision.‚Äù</p>
                  </li>
                </ul>
              </article>
            </div>
          </section>

          <!-- Hunts -->
          <section class="section" id="hunts">
            <header class="section-headline">
              <div>
                <p class="eyebrow">Hunt Management</p>
                <h2 class="section-title">Manage hunts.</h2>
              </div>
            </header>
            <div class="table-card card">
              <table>
                <thead>
                  <tr>
                    <th>Hunt</th>
                    <th>Status</th>
                    <th>Participants</th>
                    <th>Ends</th>
                  </tr>
                </thead>
                <tbody>
                  <tr data-admin-hunt="data">
                    <td>Data Management Quest</td>
                    <td><span class="badge success">Active</span></td>
                    <td>112</td>
                    <td>Nov 25</td>
                  </tr>
                  <tr data-admin-hunt="cyber">
                    <td>Cybersecurity Challenge</td>
                    <td><span class="badge success">Active</span></td>
                    <td>48</td>
                    <td>Nov 20</td>
                  </tr>
                  <tr data-admin-hunt="innovation">
                    <td>Innovation Sprint</td>
                    <td><span class="badge neutral">Draft</span></td>
                    <td>‚Äî</td>
                    <td>Dec 3</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- Students & Analytics -->
          <section class="section" id="students">
            <header class="section-headline">
              <div>
                <p class="eyebrow">Students</p>
                <h2 class="section-title">Roster overview.</h2>
              </div>
            </header>
            <div class="table-card card">
              <table>
                <thead>
                  <tr>
                    <th>Student</th>
                    <th>Group</th>
                    <th>Points</th>
                    <th>Late Tasks</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Jamie Alvarez</td>
                    <td>Crimson</td>
                    <td>2,450</td>
                    <td>0</td>
                  </tr>
                  <tr>
                    <td>Sam Hart</td>
                    <td>Silver</td>
                    <td>2,980</td>
                    <td>1</td>
                  </tr>
                  <tr>
                    <td>Marta Rivers (TA)</td>
                    <td>All</td>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <section class="section" id="analytics">
            <header class="section-headline">
              <div>
                <p class="eyebrow">Analytics</p>
                <h2 class="section-title">Engagement snapshot.</h2>
              </div>
            </header>
            <div class="cards-grid three">
              <article class="card chart-card">
                <h3>Completion by Group</h3>
                <div class="bar-chart">
                  <div>
                    <span class="h-80"></span>
                    <p>Alpha</p>
                  </div>
                  <div>
                    <span class="h-72"></span>
                    <p>Beta</p>
                  </div>
                  <div>
                    <span class="h-90"></span>
                    <p>Gamma</p>
                  </div>
                </div>
              </article>
              <article class="card chart-card">
                <h3>Submission Heatmap</h3>
                <div class="heatmap">
                  <span data-value="low"></span>
                  <span data-value="mid"></span>
                  <span data-value="high"></span>
                  <span data-value="mid"></span>
                  <span data-value="low"></span>
                </div>
              </article>
              <article class="card chart-card">
                <h3>Task Categories</h3>
                <ul class="pill-list">
                  <li>
                    <p>Technical</p>
                    <span>35%</span>
                  </li>
                  <li>
                    <p>Research</p>
                    <span>25%</span>
                  </li>
                  <li>
                    <p>Design</p>
                    <span>15%</span>
                  </li>
                  <li>
                    <p>Community</p>
                    <span>25%</span>
                  </li>
                </ul>
              </article>
            </div>
          </section>

          <!-- Settings -->
          <section class="section" id="settings">
            <header class="section-headline">
              <div>
                <p class="eyebrow">Settings</p>
                <h2 class="section-title">System toggles.</h2>
              </div>
            </header>
            <div class="two-column">
              <div class="card">
                <h3>Features</h3>
                <div class="settings-grid">
                  <label class="checkbox"
                    ><input
                      type="checkbox"
                      checked
                      data-admin-toggle="leaderboards"
                    />Enable leaderboards</label
                  >
                  <label class="checkbox"
                    ><input
                      type="checkbox"
                      checked
                      data-admin-toggle="late-submissions"
                    />Allow late submissions</label
                  >
                  <label class="checkbox"
                    ><input
                      type="checkbox"
                      data-admin-toggle="maintenance"
                    />Maintenance mode</label
                  >
                </div>
              </div>
              <div class="card">
                <h3>Data & Privacy</h3>
                <p class="muted">
                  Export anonymized engagement data for reporting.
                </p>
                <div class="cta-row">
                  <button
                    class="btn secondary"
                    type="button"
                    data-admin-export="csv"
                  >
                    Export CSV
                  </button>
                  <button
                    class="btn ghost"
                    type="button"
                    data-admin-export="pdf"
                  >
                    Download PDF Snapshot
                  </button>
                </div>
              </div>
            </div>
          </section>
        </main>

        <footer class="site-footer">
          <p>
            ¬© 2025 University of Alabama MIS ¬∑ Ultimate Scavenger Hunt Prototype
          </p>
          <div class="footer-links">
            <a href="index.html">Landing</a>
            <a href="auth.html">Login</a>
          </div>
        </footer>
      </div>
    </div>

    <!-- Simple hunt drawer for admin demo -->
    <div class="drawer" id="adminHuntDrawer" aria-hidden="true">
      <div class="drawer__header">
        <h3 id="adminHuntDrawerTitle">Edit Hunt (demo)</h3>
        <button
          type="button"
          class="icon-btn"
          data-close-drawer="hunt"
          aria-label="Close hunt drawer"
        >
          √ó
        </button>
      </div>
      <div class="drawer__body">
        <p class="muted">
          This form is for demonstration only and does not persist changes.
        </p>
        <form class="stacked-form" id="adminHuntForm">
          <label
            >Name<input type="text" id="adminHuntName" placeholder="Hunt name"
          /></label>
          <label
            >Status<select id="adminHuntStatus">
              <option>Draft</option>
              <option>Active</option>
              <option>Archived</option>
            </select></label
          >
          <label
            >End Date<input type="date" id="adminHuntEndDate"
          /></label>
        </form>
      </div>
      <div class="drawer__footer">
        <button type="button" class="btn ghost" data-close-drawer="hunt">
          Cancel
        </button>
        <button type="button" class="btn primary" id="adminHuntSaveBtn">
          Save (demo)
        </button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        function showToast(message) {
          let toast = document.querySelector(".toast");
          if (!toast) {
            toast = document.createElement("div");
            toast.className = "toast";
            document.body.appendChild(toast);
          }
          toast.textContent = message;
          toast.classList.add("visible");
          clearTimeout(window.__adminToastTimeout);
          window.__adminToastTimeout = setTimeout(() => {
            toast.classList.remove("visible");
          }, 2500);
        }

        const huntDrawer = document.getElementById("adminHuntDrawer");
        const huntNameInput = document.getElementById("adminHuntName");
        const huntStatusInput = document.getElementById("adminHuntStatus");
        const huntEndInput = document.getElementById("adminHuntEndDate");
        const huntTitle = document.getElementById("adminHuntDrawerTitle");

        document
          .querySelectorAll("tr[data-admin-hunt]")
          .forEach((row) => {
            row.addEventListener("click", () => {
              const label = row.cells[0].textContent || "Selected Hunt";
              huntTitle.textContent = `Edit ${label} (demo)`;
              huntNameInput.value = label;
              huntStatusInput.value = row.cells[1]
                .textContent
                .trim()
                .includes("Draft")
                ? "Draft"
                : row.cells[1].textContent.trim().includes("Archived")
                ? "Archived"
                : "Active";
              huntEndInput.value = "";
              huntDrawer?.classList.add("open");
              huntDrawer?.setAttribute("aria-hidden", "false");
            });
          });

        document
          .querySelectorAll("[data-close-drawer='hunt']")
          .forEach((btn) => {
            btn.addEventListener("click", () => {
              huntDrawer?.classList.remove("open");
              huntDrawer?.setAttribute("aria-hidden", "true");
            });
          });

        document
          .getElementById("adminHuntSaveBtn")
          ?.addEventListener("click", () => {
            showToast("Demo: hunt changes saved.");
            huntDrawer?.classList.remove("open");
            huntDrawer?.setAttribute("aria-hidden", "true");
          });

        document
          .querySelectorAll("[data-admin-toggle]")
          .forEach((checkbox) => {
            checkbox.addEventListener("change", () => {
              const key = checkbox.dataset.adminToggle;
              const state = checkbox.checked ? "enabled" : "disabled";
              showToast(`Demo: ${key} ${state}.`);
            });
          });

        document
          .querySelectorAll("[data-admin-export]")
          .forEach((btn) => {
            btn.addEventListener("click", () => {
              const type = btn.dataset.adminExport;
              showToast(`Demo: exporting ${type.toUpperCase()} snapshot.`);
            });
          });
      });
    </script>
  </body>
</html>
